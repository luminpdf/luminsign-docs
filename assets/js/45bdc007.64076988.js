"use strict";(self.webpackChunkluminsign=self.webpackChunkluminsign||[]).push([[6418],{22179:(e,n,s)=>{s.d(n,{A:()=>o});const o=s.p+"assets/images/callback_success_example-b91d420a63da1685f5e965eebd24b1d1.png"},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var o=s(96540);const t={},r=o.createContext(t);function i(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(r.Provider,{value:n},e.children)}},34175:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"webhooks/test-webhooks-locally","title":"Test Webhooks with ngrok","description":"Webhooks require a publicly accessible URL to receive HTTP requests, which poses a problem during local development. ngrok addresses this by creating a secure tunnel to your local server. This guide will walk you through setting up ngrok and using it to test webhooks locally.","source":"@site/docs/api/webhooks/test-webhooks-locally.mdx","sourceDirName":"webhooks","slug":"/webhooks/test-webhooks-locally","permalink":"/docs/api/webhooks/test-webhooks-locally","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Test Webhooks with ngrok","sidebar_position":3,"sidebar_label":"Test Webhooks with ngrok"},"sidebar":"sidebar","previous":{"title":"Account Webhooks","permalink":"/docs/api/webhooks/account-callbacks"},"next":{"title":"Walkthroughs","permalink":"/docs/api/category/walkthroughs"}}');var t=s(74848),r=s(28453);const i={title:"Test Webhooks with ngrok",sidebar_position:3,sidebar_label:"Test Webhooks with ngrok"},l="Test Webhooks with ngrok",a={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Installing <strong>ngrok</strong>",id:"step-1-installing-ngrok",level:2},{value:"Step 2: Starting a local server",id:"step-2-starting-a-local-server",level:2},{value:"Example: Express.js server",id:"example-expressjs-server",level:3},{value:"Step 3: Creating a secure tunnel with ngrok",id:"step-3-creating-a-secure-tunnel-with-ngrok",level:2},{value:"Important notes",id:"important-notes",level:3},{value:"Step 4: Configuring the Webhook URL",id:"step-4-configuring-the-webhook-url",level:2},{value:"Step 5: Testing the webhook",id:"step-5-testing-the-webhook",level:2},{value:"Webhook payload example",id:"webhook-payload-example",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common issues",id:"common-issues",level:3},{value:"Next steps",id:"next-steps",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"test-webhooks-with-ngrok",children:"Test Webhooks with ngrok"})}),"\n",(0,t.jsxs)(n.p,{children:["Webhooks require a publicly accessible URL to receive HTTP requests, which poses a problem during local development. ",(0,t.jsx)(n.strong,{children:"ngrok"})," addresses this by creating a secure tunnel to your local server. This guide will walk you through setting up ngrok and using it to test webhooks locally."]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Before testing webhooks locally, ensure you have:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A local web server running (e.g., Express.js, Flask, Django, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"An ngrok account (free tier available)"}),"\n",(0,t.jsx)(n.li,{children:"Your webhook endpoint implemented and ready to receive requests"}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"step-1-installing-ngrok",children:["Step 1: Installing ",(0,t.jsx)(n.strong,{children:"ngrok"})]}),"\n",(0,t.jsxs)(n.p,{children:["Install ngrok by following the instructions on the ",(0,t.jsx)(n.a,{href:"https://ngrok.com/docs/getting-started/",children:"ngrok website"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"step-2-starting-a-local-server",children:"Step 2: Starting a local server"}),"\n",(0,t.jsxs)(n.p,{children:["Before using ngrok, ensure your application is running locally on a specific port. For example, if you're developing a web application that listens on port ",(0,t.jsx)(n.code,{children:"3000"}),", ensure the application is accessible via ",(0,t.jsx)(n.code,{children:"http://localhost:3000"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"example-expressjs-server",children:"Example: Express.js server"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const express = require('express');\nconst app = express();\n\napp.use(express.json());\n\n// Webhook endpoint\napp.post('/webhook', (req, res) => {\n  console.log('Webhook received:', req.body);\n  res.status(200).json({ status: 'success' });\n});\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n  console.log(`Server running on port ${PORT}`);\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-3-creating-a-secure-tunnel-with-ngrok",children:"Step 3: Creating a secure tunnel with ngrok"}),"\n",(0,t.jsx)(n.p,{children:"To expose your local server to the Internet, use ngrok to create a secure tunnel to the port your application is running on:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ngrok http 3000\n"})}),"\n",(0,t.jsx)(n.p,{children:"You will see something similar to the following console UI in your terminal."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image",src:s(96217).A+"",width:"1898",height:"664"})}),"\n",(0,t.jsxs)(n.p,{children:["Replace ",(0,t.jsx)(n.code,{children:"3000"})," with the port number your local server is using. ngrok will start and display the session's information in your terminal, including the public URL(s) that ngrok has generated for your local server (e.g., ",(0,t.jsx)(n.code,{children:" https://reinaldo-unglorifying.ngrok-free.dev"}),")."]}),"\n",(0,t.jsx)(n.h3,{id:"important-notes",children:"Important notes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HTTPS URL"}),": Always use the HTTPS URL (not HTTP) for your webhook endpoint"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Session duration"}),": Free ngrok sessions expire after 2 hours"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"URL changes"}),": Each time you restart ngrok, you'll get a new URL"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-4-configuring-the-webhook-url",children:"Step 4: Configuring the Webhook URL"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Developer Settings page \u2192 API Key tab \u2192 Account callback section"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Set the Account Callback URL to your ngrok URL"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Save"})," button."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For example, if the ngrok URL is ",(0,t.jsx)(n.code,{children:"https://reinaldo-unglorifying.ngrok-free.dev"})," and your webhook handler path is ",(0,t.jsx)(n.code,{children:"/webhook"}),", set the Account Callback URL to ",(0,t.jsx)(n.code,{children:"https://reinaldo-unglorifying.ngrok-free.dev/webhook"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image",src:s(36214).A+"",width:"3404",height:"1878"})}),"\n",(0,t.jsx)(n.h2,{id:"step-5-testing-the-webhook",children:"Step 5: Testing the webhook"}),"\n",(0,t.jsx)(n.p,{children:"You can now test the webhook by triggering an event that would cause the webhook to be sent."}),"\n",(0,t.jsxs)(n.p,{children:["For example, if you're testing the ",(0,t.jsx)(n.code,{children:"signature_request_created"})," event:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create a new signature request in Lumin Sign"}),"\n",(0,t.jsx)(n.li,{children:"Watch your terminal for the webhook request"}),"\n",(0,t.jsx)(n.li,{children:"You should see the webhook payload logged in your console"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"image",src:s(22179).A+"",width:"1088",height:"808"})}),"\n",(0,t.jsx)(n.h2,{id:"webhook-payload-example",children:"Webhook payload example"}),"\n",(0,t.jsx)(n.p,{children:"When testing, you'll receive payloads like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "event": {\n    "event_time": 1758812613960,\n    "event_type": "signature_request_created",\n    "event_metadata": {\n      "signer_email": "test@luminpdf.com",\n      "workspace_id": "68d417..."\n    }\n  },\n  "signature_request": {\n    "signature_request_id": "68d559...",\n    "title": "Test webhook",\n    "created_at": 1758812612210,\n    "updated_at": 1758812612248,\n    "expires_at": 1827510980694,\n    "status": "NEED_TO_SIGN",\n    "signers": [\n      {\n        "name": "Signer 1",\n        "email": "signer1@luminpdf.com",\n        "status": "NEED_TO_SIGN",\n        "is_approved": false\n      },\n      {\n        "name": "Signer 2",\n        "email": "signer2@luminpdf.com",\n        "status": "NEED_TO_SIGN",\n        "is_approved": false\n      }\n    ],\n    "details_url": "https://sign.luminpdf.com/auth?mode=view-contract&token=8647b0..."\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"common-issues",children:"Common issues"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Webhook not received:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Check that your local server is running"}),"\n",(0,t.jsx)(n.li,{children:"Verify the ngrok tunnel is active"}),"\n",(0,t.jsx)(n.li,{children:"Ensure the webhook URL is correctly configured"}),"\n",(0,t.jsx)(n.li,{children:"Check that the webhook endpoint returns HTTP 200"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"ngrok session expired:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Restart ngrok to get a new URL"}),"\n",(0,t.jsx)(n.li,{children:"Update your webhook configuration with the new URL"}),"\n",(0,t.jsx)(n.li,{children:"Consider upgrading to a paid ngrok plan for longer sessions"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"SSL/TLS errors:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Always use the HTTPS URL from ngrok"}),"\n",(0,t.jsx)(n.li,{children:"Ensure your webhook endpoint can handle HTTPS requests"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,t.jsx)(n.p,{children:"Once you've successfully tested webhooks locally:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Deploy to production"}),": Set up your webhook endpoint on a production server"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Configure production webhook"}),": Update your webhook URL to point to production"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitor webhook delivery"}),": Set up monitoring and alerting for webhook failures"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/api/webhooks/account-callbacks",children:"Account Webhooks"})})," for details on configuring Account-level callbacks."]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},36214:(e,n,s)=>{s.d(n,{A:()=>o});const o=s.p+"assets/images/account-callback-fab87f8354f45628507b651aa413b912.png"},96217:(e,n,s)=>{s.d(n,{A:()=>o});const o=s.p+"assets/images/ngrok_example-0e35066bceb40b8308a197242c65a640.png"}}]);