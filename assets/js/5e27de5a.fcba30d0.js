"use strict";(self.webpackChunkluminsign=self.webpackChunkluminsign||[]).push([[8627],{25635:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"webhooks/webhook-overview","title":"Webhook Overview","description":"Webhooks allow your application to automatically react to events in Lumin, eliminating the need for continuous API polling. Lumin pushes real-time notifications to your system when key events occur, such as a signature request being approved or a document being ready for download.","source":"@site/docs/api/webhooks/webhook-overview.mdx","sourceDirName":"webhooks","slug":"/webhooks/webhook-overview","permalink":"/docs/api/webhooks/webhook-overview","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Webhook Overview","sidebar_position":1,"sidebar_label":"Overview"},"sidebar":"sidebar","previous":{"title":"Webhooks","permalink":"/docs/api/category/webhooks"},"next":{"title":"Account Webhooks","permalink":"/docs/api/webhooks/account-callbacks"}}');var t=s(74848),i=s(28453);const o={title:"Webhook Overview",sidebar_position:1,sidebar_label:"Overview"},l="Webhooks",d={},c=[{value:"Types of webhooks in Lumin",id:"types-of-webhooks-in-lumin",level:2},{value:"How the event flow works",id:"how-the-event-flow-works",level:2},{value:"Example: Signature request workflow",id:"example-signature-request-workflow",level:3},{value:"Event types and Retry rules",id:"event-types-and-retry-rules",level:2},{value:"Supported event types",id:"supported-event-types",level:3},{value:"Event payload structure",id:"event-payload-structure",level:3},{value:"Retry rules and failure handling",id:"retry-rules-and-failure-handling",level:3},{value:"Retry schedule",id:"retry-schedule",level:4},{value:"Failure conditions",id:"failure-conditions",level:4},{value:"Best practices for webhook handling",id:"best-practices-for-webhook-handling",level:4},{value:"Event subscription rules",id:"event-subscription-rules",level:2},{value:"Next steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"webhooks",children:"Webhooks"})}),"\n",(0,t.jsxs)(n.p,{children:["Webhooks allow your application to automatically react to events in Lumin, eliminating the need for continuous API polling. ",(0,t.jsx)(n.strong,{children:"Lumin"})," pushes real-time notifications to your system when key events occur, such as a ",(0,t.jsx)(n.strong,{children:"signature request being approved"})," or a ",(0,t.jsx)(n.strong,{children:"document being ready for download"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["When a webhook event is triggered, Lumin sends an ",(0,t.jsx)(n.strong,{children:"HTTP POST request"})," with a JSON payload to your specified webhook endpoint. Your receiving application can then use this information to run business logic, trigger workflows, or store records."]}),"\n",(0,t.jsx)(n.h2,{id:"types-of-webhooks-in-lumin",children:"Types of webhooks in Lumin"}),"\n",(0,t.jsxs)(n.p,{children:["Lumin currently supports ",(0,t.jsx)(n.strong,{children:"Account-level webhooks"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Configured once at the ",(0,t.jsx)(n.strong,{children:"Workspace level"})," (Workspace Owner sets it under ",(0,t.jsx)(n.strong,{children:"API Key \u2192 Account callback"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["Covers all users and events in the Workspace, ",(0,t.jsx)(n.strong,{children:"independent of which API key or user initiated them"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Events (e.g., ",(0,t.jsx)(n.code,{children:"signature_request_created"}),", ",(0,t.jsx)(n.code,{children:"signature_request_viewed"}),") are always validated using the ",(0,t.jsx)(n.strong,{children:"Primary API key"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use case"}),": Internal tools, single-tenant systems, full Workspace monitoring."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"how-the-event-flow-works",children:"How the event flow works"}),"\n",(0,t.jsx)(n.p,{children:"Most webhook integrations follow this general pattern:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User action triggers an event:"})," Something happens in Lumin \u2014 e.g., a user sends a signature request."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lumin sends a notification:"})," Lumin POSTS a JSON payload to your webhook endpoint describing the event."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Your server acknowledges:"})," Your endpoint returns an HTTP ",(0,t.jsx)(n.code,{children:"200 OK"})," to confirm receipt."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Your logic runs:"})," Your system decides how to respond \u2014 e.g., send an internal notification, update CRM data, or archive documents."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Additional API calls (if needed):"})," Your server can call Lumin APIs to fetch more details or take follow-up actions."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-signature-request-workflow",children:"Example: Signature request workflow"}),"\n",(0,t.jsx)(n.p,{children:"Let's walk through a signature request scenario:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["A user creates and sends a ",(0,t.jsx)(n.strong,{children:"signature request"})," in Lumin Sign."]}),"\n",(0,t.jsx)(n.li,{children:"All required signers complete the signing process."}),"\n",(0,t.jsxs)(n.li,{children:["Lumin sends a ",(0,t.jsx)(n.code,{children:"signature_request_approved"})," webhook event to your endpoint."]}),"\n",(0,t.jsxs)(n.li,{children:["Your server responds with ",(0,t.jsx)(n.code,{children:"200 OK"})," to confirm receipt."]}),"\n",(0,t.jsxs)(n.li,{children:["Your app then calls ",(0,t.jsx)(n.code,{children:"GET /signature_request/{id}/file"})," to download the ",(0,t.jsx)(n.strong,{children:"Certificate of Completion"})," and the ",(0,t.jsx)(n.strong,{children:"signed PDF"}),", storing them securely in your system."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"With webhooks, your app can do things beyond just receiving events:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Automate document workflows as soon as events occur."}),"\n",(0,t.jsx)(n.li,{children:"Keep external systems (like Salesforce, HubSpot, or internal CRMs) up to date."}),"\n",(0,t.jsx)(n.li,{children:"Notify team members or customers in real-time."}),"\n",(0,t.jsx)(n.li,{children:"Archive and track compliance documents immediately after completion."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"event-types-and-retry-rules",children:"Event types and Retry rules"}),"\n",(0,t.jsx)(n.h3,{id:"supported-event-types",children:"Supported event types"}),"\n",(0,t.jsx)(n.p,{children:"Lumin supports the following webhook events across both webhook types:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Event Name"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Attached API Object"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_created"})}),(0,t.jsx)(n.td,{children:"The signature request is created successfully"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_viewed"})}),(0,t.jsx)(n.td,{children:"A signer opens the document"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_approved"})}),(0,t.jsx)(n.td,{children:"The document has been signed by all signers"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_declined"})}),(0,t.jsxs)(n.td,{children:["A signer declines the document. This will turn the ",(0,t.jsx)(n.code,{children:"status"})," of the ",(0,t.jsx)(n.code,{children:"signature_request"})," to ",(0,t.jsx)(n.code,{children:"REJECTED"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_signed"})}),(0,t.jsx)(n.td,{children:"The document has been signed by a signer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_downloadable"})}),(0,t.jsx)(n.td,{children:"The signed document and/or certificate of completion is ready for download"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_invalid"})}),(0,t.jsx)(n.td,{children:"An error occurred while processing the signature request data on our back-end i.e. invalid text tags"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request Error"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_canceled"})}),(0,t.jsx)(n.td,{children:"The signature request is canceled"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request Error"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"signature_request_cancel_failed"})}),(0,t.jsx)(n.td,{children:"The signature request cancelation failed"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/api/get-signature-request/",children:"Signature Request Error"})})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"event-payload-structure",children:"Event payload structure"}),"\n",(0,t.jsx)(n.p,{children:"All webhook events follow this consistent structure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "event": {\n    "event_time": 1758812586180,\n    "event_type": "signature_request_downloadable",\n    "event_metadata": {\n      "workspace_id": "68d417dcdeaecfae84872de8"\n    }\n  },\n  "signature_request": {\n    "signature_request_id": "68d558daa153cb3c30718518",\n    "title": "Test webhook",\n    "created_at": 1758812378277,\n    "updated_at": 1758812574883,\n    "expires_at": 1827510980694,\n    "status": "APPROVED",\n    "signers": [\n      {\n        "name": "Thu Le",\n        "email": "thula@luminpdf.com",\n        "status": "APPROVED",\n        "is_approved": true\n      }\n    ]\n  },\n  "details_url": "https://sign.luminpdf.com/auth?mode=view-contract&token=..."\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"retry-rules-and-failure-handling",children:"Retry rules and failure handling"}),"\n",(0,t.jsx)(n.p,{children:"Our webhook delivery system implements robust retry mechanisms to ensure reliable event delivery:"}),"\n",(0,t.jsx)(n.h4,{id:"retry-schedule",children:"Retry schedule"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Retry Attempt"}),(0,t.jsx)(n.th,{children:"Delay After Previous Attempt"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"First"}),(0,t.jsx)(n.td,{children:"5 minutes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Second"}),(0,t.jsx)(n.td,{children:"15 minutes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Third"}),(0,t.jsx)(n.td,{children:"45 minutes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Fourth"}),(0,t.jsx)(n.td,{children:"2 hours 15 minutes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Fifth"}),(0,t.jsx)(n.td,{children:"6 hours 45 minutes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Sixth"}),(0,t.jsx)(n.td,{children:"20 hours 15 minutes"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"failure-conditions",children:"Failure conditions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Timeout"}),": Requests timeout after 30 seconds"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HTTP Errors"}),": Any non-200 response status"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Connection Failures"}),": Network connectivity issues"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"best-practices-for-webhook-handling",children:"Best practices for webhook handling"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Respond quickly"}),": Keep response times under 30 seconds"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Return HTTP 200"}),": Acknowledge receipt with success status"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Implement idempotency"}),": Handle duplicate events gracefully"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Log all events"}),": Maintain audit trails for debugging"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Verify signatures"}),": Always validate webhook authenticity"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"event-subscription-rules",children:"Event subscription rules"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"By default, Account webhook URLs subscribe to all supported events automatically"})," - there's no opt-out mechanism."]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["See ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/api/webhooks/account-callbacks",children:"Account Webhooks"})})," for details on configuring Account-level callbacks."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var r=s(96540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);